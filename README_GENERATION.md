# è³¼å…¥å¸Œæœ›è€…æƒ…å ± è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 

Claude CLIã‚’ä½¿ç”¨ã—ãŸä¸¦åˆ—å‡¦ç†ã«ã‚ˆã‚‹å¤§é‡ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
urico-kansai/
â”œâ”€â”€ prompts/          # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ house_template.txt
â”‚   â”œâ”€â”€ land_template.txt
â”‚   â””â”€â”€ mansion_template.txt
â”œâ”€â”€ jobs/             # ç”Ÿæˆã‚¸ãƒ§ãƒ–ï¼ˆJSONå½¢å¼ï¼‰
â”‚   â””â”€â”€ _jobs_list.json
â”œâ”€â”€ out/              # Claude CLIã®ç”Ÿå‡ºåŠ›ï¼ˆ.txtï¼‰
â”œâ”€â”€ src/generated/    # è‡ªå‹•ç”ŸæˆJSãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ house/
â”‚   â”œâ”€â”€ land/
â”‚   â””â”€â”€ mansion/
â””â”€â”€ scripts/          # å®Ÿè¡Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
    â”œâ”€â”€ generate_jobs.js
    â”œâ”€â”€ run_parallel.js
    â”œâ”€â”€ convert_to_js.js
    â””â”€â”€ update_main_files.js
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. ã‚¸ãƒ§ãƒ–ç”Ÿæˆ

`area_data.json`ã¨`railway_data.json`ã‹ã‚‰ã€å„å¸‚åŒºç”ºæ‘ãƒ»å„æ²¿ç·šé§…ã®ã‚¸ãƒ§ãƒ–ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

```bash
node scripts/generate_jobs.js
```

ã“ã‚Œã«ã‚ˆã‚Šã€`jobs/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å„ã‚¸ãƒ§ãƒ–ã®JSONãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

### 2. ä¸¦åˆ—å®Ÿè¡Œï¼ˆClaude CLIï¼‰

Claude CLIã‚’ä½¿ç”¨ã—ã¦ã€è¤‡æ•°ã®ã‚¸ãƒ§ãƒ–ã‚’ä¸¦åˆ—å®Ÿè¡Œã—ã¾ã™ã€‚

#### åŸºæœ¬å®Ÿè¡Œ

```bash
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆ6ä¸¦åˆ—ï¼‰
node scripts/run_parallel.js

# ä¸¦åˆ—æ•°ã‚’æŒ‡å®šï¼ˆä¾‹: 10ä¸¦åˆ—ï¼‰
node scripts/run_parallel.js 10

# ã‚¿ã‚¤ãƒ—ã‚’æŒ‡å®šï¼ˆä¾‹: æˆ¸å»ºã®ã¿ï¼‰
node scripts/run_parallel.js 6 house
```

#### éƒ½é“åºœçœŒã§åˆ†å‰²å®Ÿè¡Œ

```bash
# éƒ½é“åºœçœŒã‚’æŒ‡å®šï¼ˆä¾‹: å¤§é˜ªåºœã®ã¿ï¼‰
node scripts/run_parallel.js 6 house å¤§é˜ªåºœ

# é †æ¬¡å®Ÿè¡Œï¼ˆã™ã¹ã¦ã®éƒ½é“åºœçœŒï¼‰
./scripts/run_by_prefecture.sh 6 house
```

#### è¤‡æ•°ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§åŒæ™‚å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰

5ã¤ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’é–‹ã„ã¦ã€ãã‚Œãã‚Œã§å®Ÿè¡Œï¼š

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«1ï¼ˆå¤§é˜ªåºœï¼‰:**
```bash
cd /Users/milk/urico-kansai
node scripts/run_parallel.js 6 house å¤§é˜ªåºœ
```

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«2ï¼ˆå¥ˆè‰¯çœŒï¼‰:**
```bash
cd /Users/milk/urico-kansai
node scripts/run_parallel.js 6 house å¥ˆè‰¯çœŒ
```

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«3ï¼ˆäº¬éƒ½åºœï¼‰:**
```bash
cd /Users/milk/urico-kansai
node scripts/run_parallel.js 6 house äº¬éƒ½åºœ
```

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«4ï¼ˆæ»‹è³€çœŒï¼‰:**
```bash
cd /Users/milk/urico-kansai
node scripts/run_parallel.js 6 house æ»‹è³€çœŒ
```

**ã‚¿ãƒ¼ãƒŸãƒŠãƒ«5ï¼ˆå…µåº«çœŒï¼‰:**
```bash
cd /Users/milk/urico-kansai
node scripts/run_parallel.js 6 house å…µåº«çœŒ
```

**æ³¨æ„**: Claude CLIãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã€`ANTHROPIC_API_KEY`ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### 3. JSãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›

ç”Ÿæˆã•ã‚ŒãŸ`.txt`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’`.js`ãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›ã—ã¾ã™ã€‚

```bash
node scripts/convert_to_js.js
```

### 4. ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°

`src/generated/`å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ã€`house_db.js`ã€`land_db.js`ã€`mansion_db.js`ã‚’æ›´æ–°ã—ã¾ã™ã€‚

```bash
node scripts/update_main_files.js
```

## ğŸ“Š ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```
1. generate_jobs.js
   â†“
   jobs/*.json ç”Ÿæˆ

2. run_parallel.js
   â†“
   out/*.txt ç”Ÿæˆï¼ˆClaude CLIå®Ÿè¡Œï¼‰

3. convert_to_js.js
   â†“
   src/generated/*/*.js ç”Ÿæˆ

4. update_main_files.js
   â†“
   house_db.js, land_db.js, mansion_db.js æ›´æ–°
```

## âš™ï¸ è¨­å®š

### ä¸¦åˆ—æ•°ã®èª¿æ•´

`scripts/run_parallel.js`ã®`PARALLEL_COUNT`ã‚’å¤‰æ›´ã™ã‚‹ã‹ã€ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã§æŒ‡å®šã—ã¾ã™ã€‚

- åˆæœŸ: 4-6ä¸¦åˆ—ï¼ˆå®‰å®šå„ªå…ˆï¼‰
- æœ€å¤§: 10ä¸¦åˆ—

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

`prompts/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦ãã ã•ã„ã€‚

- `{{AREA_NAME}}`ãŒè‡ªå‹•çš„ã«ç½®æ›ã•ã‚Œã¾ã™

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Claude CLIãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„

```bash
npm install -g @anthropic-ai/claude-code
export ANTHROPIC_API_KEY="your-api-key"
```

### ã‚¸ãƒ§ãƒ–ãŒå¤±æ•—ã™ã‚‹

- APIãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’ç¢ºèª
- ä¸¦åˆ—æ•°ã‚’æ¸›ã‚‰ã™ï¼ˆä¾‹: `node scripts/run_parallel.js 4`ï¼‰
- å¤±æ•—ã—ãŸã‚¸ãƒ§ãƒ–ã¯å†å®Ÿè¡Œå¯èƒ½ï¼ˆæ—¢å­˜ã®å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã™ï¼‰

### å¤‰æ›ã‚¨ãƒ©ãƒ¼

- `out/*.txt`ã«`export const`ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- Claude CLIã®å‡ºåŠ›å½¢å¼ã‚’ç¢ºèª

## ğŸ“ æ³¨æ„äº‹é …

- `src/generated/`å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯**è‡ªå‹•ç”Ÿæˆ**ã§ã™ã€‚æ‰‹å‹•ç·¨é›†ç¦æ­¢
- ã™ã¹ã¦ã®è‡ªå‹•ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯`// AUTO-GENERATED. DO NOT EDIT BY HAND.`ã‚³ãƒ¡ãƒ³ãƒˆãŒä»˜ä¸ã•ã‚Œã¾ã™
- å†ç”Ÿæˆæ™‚ã¯ã€æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸Šæ›¸ãã—ã¾ã™

## ğŸ¯ ã‚´ãƒ¼ãƒ«

- **1ã‚³ãƒãƒ³ãƒ‰ã§å¤§é‡æ–‡ç« ç”Ÿæˆ**
- Cursorã¯æˆæœç‰©ç®¡ç†ã«å°‚å¿µ
- äººé–“ã¯è¨­è¨ˆã¨ãƒã‚§ãƒƒã‚¯ã ã‘è¡Œã†
